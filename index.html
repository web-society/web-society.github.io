<!doctype html><html lang="en"><head><meta charset="UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>ffmpeg</title><style>#images img{max-width:380px}</style><script defer="defer" src="/static/js/main.3aa0f7c2.js"></script><link href="/static/css/main.bbb07492.css" rel="stylesheet"></head><body><input id="uploader" type="file" accept="video/*"/><p>status: <span id="status">idle...</span></p><section id="images"></section><script src="./ffmpeg.min.js"></script><script>const status=document.getElementById("status"),imageContainer=document.getElementById("images"),{createFFmpeg:createFFmpeg,fetchFile:fetchFile}=FFmpeg,ffmpeg=createFFmpeg({mainName:"main",corePath:"https://unpkg.com/@ffmpeg/core-st@0.11.1/dist/ffmpeg-core.js"}),transcode=async({target:{files:e}})=>{const{name:t}=e[0];status.textContent="ffmpeg loading...",await ffmpeg.load(),status.textContent="video processing...",ffmpeg.FS("writeFile",t,await fetchFile(e[0])),await ffmpeg.run("-i",t,"-vf","fps=1","thumb%04d.jpg");const a=ffmpeg.FS("readdir","/").filter((e=>e.endsWith(".jpg")));let n=[];a.forEach((e=>{let t=ffmpeg.FS("readFile",e);n.push(URL.createObjectURL(new Blob([t.buffer],{type:"image/jpeg"})))})),status.textContent="Images loading...",n.forEach((e=>{let t=new Image;t.src=e,imageContainer.appendChild(t)})),status.textContent="Done."};document.getElementById("uploader").addEventListener("change",transcode)</script><div id="root"></div></body></html>